{"ast":null,"code":"import React,{useEffect}from'react';import'./SpyTable.css';import{MDBTable,MDBTableBody,MDBTableHead}from'mdbreact';import'@fortawesome/fontawesome-free/css/all.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SpyTable=function SpyTable(props){var spy=props.spy,ticker=props.ticker,setTicker=props.setTicker,setStock=props.setStock;var changeColor=function changeColor(symbol,leftRow){if(!leftRow){document.getElementById(symbol).style.backgroundColor='rgb(200,200,200)';}else if(leftRow){document.getElementById(symbol).style.backgroundColor='rgb(237, 237, 237)';}if(ticker.current){document.getElementById(ticker.current).style.backgroundColor='#fa8072';}if(ticker.prior){document.getElementById(ticker.prior).style.backgroundColor='rgb(237, 237, 237)';}};var spyTableClick=function spyTableClick(symbol){setTicker({prior:ticker.current,current:symbol});};useEffect(function(){if(ticker.current){fetch(\"https://api.aletheiaapi.com/StockData?symbol=\".concat(ticker.current),{headers:{key:'2CD5D7C1C59B4966AB79930611BC7365','Accept-Version':2}}).then(function(res){return res.json();}).then(function(data){console.log(data);setStock(data);});//Add catch block with email to me and user about error\n}},[ticker]);//div needed to keep table width appropriate\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"spyTableContainer\",children:/*#__PURE__*/_jsxs(MDBTable,{maxHeight:\"39.5rem\",className:\"heldTable\",rules:\"none\",scrollY:true,border:\"1\",children:[/*#__PURE__*/_jsx(MDBTableHead,{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"heldToprow\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"heldTd\",children:\"Company\"}),/*#__PURE__*/_jsx(\"td\",{className:\"heldTd\",children:\"Ticker\"}),/*#__PURE__*/_jsx(\"td\",{className:\"heldTd\",children:\"Price\"}),/*#__PURE__*/_jsx(\"td\",{className:\"heldTd\",children:\"Weight\"})]})}),/*#__PURE__*/_jsx(MDBTableBody,{children:spy.map(function(stock,i){return/*#__PURE__*/_jsxs(\"tr\",{className:\"heldTr\",id:stock.Symbol,onClick:function onClick(){return spyTableClick(stock.Symbol);},onMouseOver:function onMouseOver(){return changeColor(stock.Symbol,false);},onMouseOut:function onMouseOut(){return changeColor(stock.Symbol,true);},children:[/*#__PURE__*/_jsx(\"td\",{className:\"heldTd\",children:stock.Company}),/*#__PURE__*/_jsx(\"td\",{className:\"heldTd\",children:stock.Symbol}),/*#__PURE__*/_jsx(\"td\",{className:\"heldTd\",children:stock.Price}),/*#__PURE__*/_jsxs(\"td\",{className:\"heldTd\",children:[stock.Weight.toFixed(2),\"%\"]})]},i);})})]})});};export default SpyTable;","map":{"version":3,"names":["React","useEffect","MDBTable","MDBTableBody","MDBTableHead","SpyTable","props","spy","ticker","setTicker","setStock","changeColor","symbol","leftRow","document","getElementById","style","backgroundColor","current","prior","spyTableClick","fetch","headers","key","then","res","json","data","console","log","map","stock","i","Symbol","Company","Price","Weight","toFixed"],"sources":["C:/Users/babak/portfolio/stock_analyzer_app/stock_analyzer/src/Components/SpyTable/SpyTable.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport './SpyTable.css';\r\nimport { MDBTable, MDBTableBody, MDBTableHead } from 'mdbreact';\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\n\r\nconst SpyTable = (props) => {\r\n    const {spy, ticker, setTicker, setStock} = props;\r\n\r\n    const changeColor = (symbol, leftRow) => {\r\n\t\tif (!leftRow) {\r\n\t\t\tdocument.getElementById(symbol).style.backgroundColor = 'rgb(200,200,200)';\r\n\t\t} else if (leftRow) {\r\n\t\t\tdocument.getElementById(symbol).style.backgroundColor = 'rgb(237, 237, 237)'\r\n\t\t}\r\n\r\n        if (ticker.current) {\r\n            document.getElementById(ticker.current).style.backgroundColor = '#fa8072';\r\n        } if (ticker.prior) {\r\n            document.getElementById(ticker.prior).style.backgroundColor = 'rgb(237, 237, 237)';\r\n        }\r\n\t}\r\n\r\n    const spyTableClick = (symbol) => {\r\n        setTicker({prior: ticker.current, current: symbol});\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (ticker.current) {\r\n            fetch(`https://api.aletheiaapi.com/StockData?symbol=${ticker.current}`, {\r\n                headers: {\r\n                    key: '2CD5D7C1C59B4966AB79930611BC7365',\r\n                    'Accept-Version': 2\r\n                }\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data);\r\n                setStock(data);\r\n            }) //Add catch block with email to me and user about error\r\n        }\r\n    }, [ticker])\r\n\r\n    //div needed to keep table width appropriate\r\n    return <div className='spyTableContainer'>\r\n    <MDBTable maxHeight='39.5rem' className=\"heldTable\" rules='none' scrollY border='1'>\r\n        <MDBTableHead>\r\n            <tr className='heldToprow'>\r\n                <td className=\"heldTd\">Company</td>\r\n                <td className=\"heldTd\">Ticker</td>\r\n                <td className=\"heldTd\">Price</td>\r\n                <td className=\"heldTd\">Weight</td>\r\n            </tr>\r\n        </MDBTableHead>\r\n        <MDBTableBody>\r\n            {spy.map((stock, i) => {\r\n                return <tr key={i} className=\"heldTr\"\r\n                    id={stock.Symbol}\r\n                    onClick={() => spyTableClick(stock.Symbol)}\r\n                    onMouseOver={() => changeColor(stock.Symbol, false)}\r\n\t\t\t\t\tonMouseOut={() => changeColor(stock.Symbol, true)}\r\n                >\r\n                    <td className=\"heldTd\">{stock.Company}</td>\r\n                    <td className=\"heldTd\">{stock.Symbol}</td>\r\n                    <td className=\"heldTd\">{stock.Price}</td>\r\n                    <td className=\"heldTd\">{stock.Weight.toFixed(2)}%</td>\r\n                </tr>\r\n            })\r\n            \r\n            }\r\n        </MDBTableBody>\r\n    </MDBTable>\r\n    </div>\r\n}\r\n\r\nexport default SpyTable;"],"mappings":"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"},"metadata":{},"sourceType":"module"}